{
  "openapi": "3.0.0",
  "info": {
    "title": "mw.fs.j1.wrapper",
    "version": "1.0.0",
    "description": "J2 Middleware Boilerplate Repository for API project.",
    "x-logo": {
      "url": "https://www.aiondigital.com/wp-content/uploads/2018/07/Aion_white-1024x241.png",
      "altText": "mw.fs.j1.wrapper"
    },
    "contact": {
      "name": "AION SUPPORT",
      "url": "https://www.aiondigital.com/support",
      "email": "qasim@aiondigital.com"
    },
    "host": "http://localhost:3000",
    "basePath": "/api/v1"
  },
  "securityDefinitions": {
    "Authorization": {
      "type": "apiKey",
      "in": "header",
      "name": "Authorization"
    }
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "components": {
    "schemas": {
      "CountryListResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "number",
            "example": 200
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CountryListObjects"
            },
            "example": [
              {
                "id": 1,
                "title": "Bahrain CPR"
              },
              {
                "id": 2,
                "title": "saudi"
              }
            ]
          },
          "message": {
            "type": "string"
          }
        }
      },
      "CountryListObjects": {
        "type": "object",
        "properties": {
          "response": {
            "properties": {
              "id": {
                "type": "number"
              },
              "title": {
                "type": "string"
              }
            }
          }
        }
      },
      "CheckEmailRequestModel": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          }
        }
      },
      "RegisterRequestModel": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "confirmPassword": {
            "type": "string"
          },
          "countryId": {
            "type": "string"
          },
          "mobileNumber": {
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "dob": {
            "type": "string"
          },
          "cnic": {
            "type": "string"
          },
          "gender": {
            "type": "string"
          },
          "nationality": {
            "type": "string"
          },
          "idIssuer": {
            "type": "string"
          },
          "doe": {
            "type": "string"
          },
          "frontCardImage": {
            "type": "string"
          },
          "backCardImage": {
            "type": "string"
          }
        }
      },
      "nonBahrainRegisterRequestModel": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "mobileNumber": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "LoginRequestModel": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "remmeberMe": {
            "type": "string"
          },
          "platform": {
            "type": "string"
          }
        }
      },
      "VerifyOtpRequestModel": {
        "type": "object",
        "properties": {
          "otpCode": {
            "type": "string"
          }
        }
      },
      "resendOtpRequestModel": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          }
        }
      },
      "ChangeMobileRequestModel": {
        "type": "object",
        "properties": {
          "mobileNo": {
            "type": "string"
          }
        }
      },
      "RegisterResponseModel": {
        "type": "object",
        "properties": {
          "status": {
            "type": "number",
            "example": 200
          },
          "data": {
            "type": "object",
            "properties": {
              "token": {
                "type": "string"
              },
              "email": {
                "type": "string"
              },
              "isMobileVerified": {
                "type": "string"
              },
              "isEmailVerified": {
                "type": "string"
              },
              "userId": {
                "type": "string"
              },
              "mobileNumber": {
                "type": "string"
              },
              "firstName": {
                "type": "string"
              },
              "lastName": {
                "type": "string"
              },
              "dob": {
                "type": "string"
              },
              "cnic": {
                "type": "string"
              },
              "gender": {
                "type": "string"
              },
              "nationality": {
                "type": "string"
              },
              "idIssuer": {
                "type": "string"
              },
              "doe": {
                "type": "string"
              },
              "frontCardImage": {
                "type": "string"
              },
              "backCardImage": {
                "type": "string"
              }
            }
          },
          "message": {
            "type": "string"
          }
        }
      },
      "LoginResponseModel": {
        "type": "object",
        "properties": {
          "status": {
            "type": "number",
            "example": 200
          },
          "data": {
            "type": "object",
            "properties": {
              "token": {
                "type": "string"
              },
              "email": {
                "type": "string"
              },
              "isMobileVerified": {
                "type": "string"
              },
              "isEmailVerified": {
                "type": "string"
              },
              "userId": {
                "type": "string"
              },
              "mobileNumber": {
                "type": "string"
              },
              "firstName": {
                "type": "string"
              },
              "lastName": {
                "type": "string"
              },
              "dob": {
                "type": "string"
              },
              "cnic": {
                "type": "string"
              },
              "gender": {
                "type": "string"
              },
              "nationality": {
                "type": "string"
              },
              "idIssuer": {
                "type": "string"
              },
              "doe": {
                "type": "string"
              },
              "frontCardImage": {
                "type": "string"
              },
              "backCardImage": {
                "type": "string"
              }
            }
          },
          "message": {
            "type": "string"
          }
        }
      },
      "CheckEmailResponseModel": {
        "type": "object",
        "properties": {
          "status": {
            "type": "number",
            "example": 200
          },
          "data": {
            "type": "object"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "nonBahrainRegisterResponseModel": {
        "type": "object",
        "properties": {
          "status": {
            "type": "number",
            "example": 200
          },
          "data": {
            "type": "object"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "VerifyOtpResponseModel": {
        "type": "object",
        "properties": {
          "status": {
            "type": "number",
            "example": 200
          },
          "data": {
            "type": "object"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "resendOtpResponseModel": {
        "type": "object",
        "properties": {
          "status": {
            "type": "number",
            "example": 200
          },
          "data": {
            "type": "object"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ChangeMobileResponseModel": {
        "type": "object",
        "properties": {
          "status": {
            "type": "number",
            "example": 200
          },
          "data": {
            "type": "object"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "Audit": {
        "type": "object",
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "updatedAt": {
            "type": "string"
          },
          "deletedAt": {
            "type": "string"
          }
        }
      },
      "Headers": {
        "type": "object",
        "required": [
          "Content-Type"
        ],
        "properties": {
          "Content-Type": {
            "type": "string",
            "example": "application/json"
          }
        }
      },
      "responses": {
        "InternalServer": {
          "description": "System can not process the request",
          "schema": {
            "$ref": "#/definitions/Error"
          }
        }
      }
    }
  },
  "paths": {
    "/api/v1/country/ids": {
      "get": {
        "tags": [
          "Country"
        ],
        "summary": "Country IDs list for dropdown",
        "responses": {
          "200": {
            "description": "Country list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountryListResponse"
                }
              }
            }
          },
          "500": {
            "$ref": "#/definitions/Error"
          }
        }
      }
    },
    "/api/v1/auth/check/email": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Check customer email",
        "requestBody": {
          "description": null,
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/components/schemas/CheckEmailRequestModel"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Check customer email existed or not",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckEmailResponseModel"
                }
              }
            }
          },
          "500": {
            "$ref": "#/definitions/Error"
          }
        }
      }
    },
    "/api/v1/auth/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "register new customer",
        "requestBody": {
          "description": null,
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/components/schemas/RegisterRequestModel"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Customer Registered successFully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterResponseModel"
                }
              }
            }
          },
          "500": {
            "$ref": "#/definitions/Error"
          }
        }
      }
    },
    "/api/v1/auth/register/others": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Register Non Bharain customer",
        "requestBody": {
          "description": null,
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/components/schemas/nonBahrainRegisterRequestModel"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Non Bahrain Customer Registered successFully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/nonBahrainRegisterResponseModel"
                }
              }
            }
          },
          "500": {
            "$ref": "#/definitions/Error"
          }
        }
      }
    },
    "/api/v1/auth/otp/verify": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Verify Registered Customer",
        "requestBody": {
          "description": null,
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/components/schemas/VerifyOtpRequestModel"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Otp verified for Registered Customer SuccessFully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifyOtpResponseModel"
                }
              }
            }
          },
          "500": {
            "$ref": "#/definitions/Error"
          }
        }
      }
    },
    "/api/v1/auth/otp/resend": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Resend OTP to Registered Customer",
        "requestBody": {
          "description": null,
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/components/schemas/resendOtpRequestModel"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Otp Send to Registered Customer SuccessFully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/resendOtpResponseModel"
                }
              }
            }
          },
          "500": {
            "$ref": "#/definitions/Error"
          }
        }
      }
    },
    "/api/v1/auth/update/mobile": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Mobile No Change Request",
        "requestBody": {
          "description": null,
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/components/schemas/ChangeMobileRequestModel"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Otp Code Sent SuccessFully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChangeMobileResponseModel"
                }
              }
            }
          },
          "500": {
            "$ref": "#/definitions/Error"
          }
        }
      }
    },
    "/api/v1/auth/update/mobile/verify": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "OTP Send to Registered Customer",
        "requestBody": {
          "description": null,
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/components/schemas/VerifyOtpRequestModel"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Verified Change of Mobile",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifyOtpResponseModel"
                }
              }
            }
          },
          "500": {
            "$ref": "#/definitions/Error"
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "login",
        "requestBody": {
          "description": null,
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/components/schemas/LoginRequestModel"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Verified Change of Mobile",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponseModel"
                }
              }
            }
          },
          "500": {
            "$ref": "#/definitions/Error"
          }
        }
      }
    }
  },
  "definitions": {
    "responseMeta": {
      "type": "object",
      "properties": {
        "x-request-or-lang": {
          "type": "string"
        },
        "source": {
          "type": "string"
        },
        "response-time": {
          "type": "string"
        }
      }
    },
    "Error": {
      "type": "object",
      "properties": {
        "responseMetaData": {
          "type": "object",
          "properties": {
            "status": {
              "type": "string"
            },
            "source": {
              "type": "string"
            },
            "description": {
              "type": "string"
            },
            "responseTime": {
              "type": "string"
            },
            "trace": {
              "type": "array",
              "items": {
                "properties": {
                  "code": {
                    "type": "string"
                  },
                  "desc": {
                    "type": "string"
                  },
                  "traceDetails": {
                    "type": "string"
                  },
                  "docRef": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "exception": {
          "type": "object"
        }
      }
    }
  },
  "tags": []
}